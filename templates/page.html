<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <meta name="description" content="{{ meta_description }}">
    
    <link rel="icon" href="/static/favicon.png" type="image/png">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ config.google_analytics_id }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ config.google_analytics_id }}');
    </script>

    <style>
        :root { --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; --blue: #3b82f6; --gold: #fbbf24; }
        body { background: var(--bg); color: var(--text); font-family: system-ui, sans-serif; margin: 0; padding: 0; line-height: 1.6; }
        
        /* Top Bar Ê†∑Âºè */
        .top-bar { background: #1e293b; border-bottom: 1px solid #334155; color: #fff; text-align: center; padding: 10px; font-size: 14px; font-weight: 600; cursor: pointer; }
        .top-bar a { color: var(--gold); text-decoration: underline; margin-left: 10px; }
        
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        
        /* ÂØºËà™ */
        nav { display: flex; justify-content: space-between; padding: 20px 0; border-bottom: 1px solid #334155; margin-bottom: 40px; }
        nav a { color: var(--blue); text-decoration: none; font-weight: bold; }
        
        /* Battle Card */
        .battle-header { text-align: center; margin-bottom: 50px; }
        .versus-container { display: flex; align-items: center; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .tool-card { background: var(--card); padding: 30px; border-radius: 16px; width: 300px; border: 1px solid #334155; text-align: center; position: relative; }
        .tool-name { font-size: 2rem; font-weight: 800; margin: 0; color: white; }
        .tool-price { font-size: 1.5rem; color: var(--gold); margin: 10px 0; font-weight: bold; }
        .vs-badge { background: #ef4444; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; border: 4px solid var(--bg); z-index: 10; }
        .cta-btn { display: inline-block; background: var(--blue); color: white; padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; margin-top: 15px; transition: 0.2s; }
        .cta-btn:hover { transform: scale(1.05); }

        /* ÂÜÖÂÆπÂå∫ */
        .content-box { background: var(--card); padding: 40px; border-radius: 16px; margin-top: 40px; border: 1px solid #334155; }
        .content-box h2, .content-box h3 { color: var(--blue); border-bottom: 1px solid #334155; padding-bottom: 10px; }
        
        /* Exit Popup Ê†∑Âºè */
        .exit-popup { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; justify-content: center; align-items: center; }
        .popup-content { background: #1e293b; border: 1px solid #334155; padding: 40px; border-radius: 12px; text-align: center; max-width: 400px; position: relative; color: white; }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: #94a3b8; }
        
        footer { text-align: center; margin-top: 80px; padding: 40px 0; border-top: 1px solid #334155; color: #64748b; }
        footer a { color: #94a3b8; text-decoration: none; margin: 0 10px; }
    </style>
</head>
<body>
    <div class="top-bar" id="topBar" onclick="showPopup()">
        {{ config.top_bar.text }} <a href="{{ config.top_bar.link }}">Claim Now &rarr;</a>
    </div>

    <div class="container">
        <nav>
            <a href="index.html">‚Üê All Comparisons</a>
            <span>{{ date }} Update</span>
        </nav>

        <div class="battle-header">
            <h1>{{ tool_a.Tool_Name }} vs {{ tool_b.Tool_Name }}</h1>
            <p>Which tool wins the SEO battle in 2026?</p>
            
            <div class="versus-container">
                <div class="tool-card">
                    <div class="tool-name">{{ tool_a.Tool_Name }}</div>
                    <div class="tool-price">{{ tool_a.Price }}</div>
                    <p style="color:#94a3b8">{{ tool_a.Verdict }}</p>
                    <a href="{{ tool_a.Affiliate_Link }}" class="cta-btn" target="_blank" rel="nofollow">Check Price</a>
                </div>

                <div class="vs-badge">VS</div>

                <div class="tool-card">
                    <div class="tool-name">{{ tool_b.Tool_Name }}</div>
                    <div class="tool-price">{{ tool_b.Price }}</div>
                    <p style="color:#94a3b8">{{ tool_b.Verdict }}</p>
                    <a href="{{ tool_b.Affiliate_Link }}" class="cta-btn" target="_blank" rel="nofollow">Check Price</a>
                </div>
            </div>
        </div>

        <div class="content-box">
            {{ article_body | safe }}
        </div>

        <footer>
            <p>&copy; 2026 SaaS Battle Arena.</p>
            
            <div style="margin: 20px auto; max-width: 800px; font-size: 0.8rem; color: #64748b; line-height: 1.5; opacity: 0.8;">
                {{ config.legal.disclosure }}
            </div>

            <p>
                <a href="privacy.html">Privacy Policy</a> | 
                <a href="terms.html">Terms of Service</a>
            </p>
        </footer>
    </div>

    <div class="exit-popup" id="exitPopup">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">&times;</span>
            <h2>Wait! Don't Miss Out</h2>
            <p>We've found a special deal for you.</p>
            <p style="font-size: 1.2rem; margin: 15px 0; color: var(--gold);">üéÅ <strong>Save up to 30% on Software</strong></p>
            <a href="#best-deal" class="cta-btn">Get Deal</a>
        </div>
    </div>

    <script>
        const popup = document.getElementById('exitPopup');
        let hasShown = false;

        function closePopup() {
            popup.style.display = 'none';
        }

        function showPopup() {
             popup.style.display = 'flex';
             hasShown = true;
        }

        // Exit Intent: Èº†Ê†áÁßªÂá∫È°µÈù¢È°∂ÈÉ®Ëß¶Âèë
        document.addEventListener('mouseleave', (e) => {
            if (e.clientY < 0 && !hasShown) {
                showPopup();
            }
        });
    </script>
</body>
</html>
